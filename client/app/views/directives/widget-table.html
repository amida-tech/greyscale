<rd-widget>
    <rd-widget-header icon="{{model.icon}}" title="{{model.title}}">
        <div class="text-right" ng-show="model.add">
            <a class="action action-primary" ng-click="model.add.handler()" title="{{model.add.title|translate}}">
                <i class="fa fa-plus" ng-show="model.add"></i>
            </a>
        </div>
    </rd-widget-header>
    <div class="widget-table ng-table">
        <table class="table table-responsive panel {{::classes}}"
               ng-class="{'table-hover':model.selectable}"
               ng-table-dynamic="model.tableParams with model.cols">
            <tbody>
                <tr ng-if="!model.$loading" ng-repeat="row in $data" ng-click="select(row, $event)"
                    ng-class="{selected: isSelected(row), 'expandable-row':model.expandedRowTemplate || model.expandedRowTemplateUrl}"
                    ng-disabled="isDisabled(row)" propagate-disabled>
                    <td data-header="col.header" ng-repeat="col in $columns" widget-table-cell="col" row-value="row"
                        model-multiselect="model.multiselect"></td>
                </tr>
                <tr ng-if="!model.$loading && model.dataMap && !model.dataMap.length" class="empty-data text-center">
                    <td colspan="{{$columns.length}}">{{(model.noDataText||'TABLES.NO_DATA')|translate}}</td>
                </tr>
                <tr ng-if="model.$loading">
                    <td colspan="{{$columns.length}}">
                        <rd-loading></rd-loading>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</rd-widget>

<script type="text/ng-template" id="ng-table/headers/check-all.html">
    <div class="checkbox">
        <label>
            <input type="checkbox"
                   class="select-all"
                   ng-model="model.multiselect.selectAllState"
                   ng-if="model.dataMap.length"
                   ng-change="model.multiselect.selectAll(); model.multiselect.fireChange()"
                   title="{{(model.multiselect.selectAllTitle||'TABLES.SELECT_ALL_TITLE')|translate}}"
                />

            <i class="chk-box"></i>
        </label>
    </div>
</script>
